@model IEnumerable<Stores.Models.Order>

<h2>Order Confirmation</h2>
<p>Thank you for your order! Here are your order details:</p>

@foreach (var order in Model)
{
    <div class="row">
        <div class="col-md-6">
            <h4>Order #@order.Id Summary | Store: @order.Store.Name</h4>
            <hr />
            @foreach (var item in order.OrderItems)
            {
                <div class="checkout-item d-flex align-items-center mb-2">
                    <img src="@item.Product.PhotoLink" 
                         alt="@item.Product.Description" 
                         class="checkout-product-img me-2"/>
                    <div>
                        <p class="mb-0">@item.Product.Name</p>
                        <small>x @item.Quantity | @item.Product.Price.ToString("C") each</small>
                    </div>
                </div>
            }
            <hr />
            <p><strong>Total: @order.Total.ToString("C")</strong></p>
        </div>

        <div class="col-md-6">
            <h4>Shipping Address</h4>
            <p>
                @order.ShippingAddress.StreetName @order.ShippingAddress.StreetNumber,<br />
                Building @order.ShippingAddress.BuildingNumber, Apt @order.ShippingAddress.ApartmentNumber<br />
                @order.ShippingAddress.City<br />
                @order.ShippingAddress.ZipCode
            </p>
        
            <h4>Payment Method</h4>
            <p>@order.PaymentMethod.ToString()</p>
        </div>
    </div>
}

<a asp-action="Index" asp-controller="Home" class="btn btn-primary mt-3">Back to Home</a>